<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Customer Management</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<nav class="navbar">
    <a href="/">Dashboard</a>
    <a href="/customer_management">Customer Management</a>
    <a href="/onboarded_customers">Onboarded Customers</a>
</nav>

<div class="container">

  <div class="form-container">
    <h1>Customer Onboarding</h1>
    <form action="/add_customer" method="post">

      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>

      <label for="company">Company:</label>
      <input type="text" id="company" name="company" required>

      <label for="address">Address:</label>
      <input type="text" id="address" name="address" required>

      <label for="city">City:</label>
      <input type="text" id="city" name="city" required>

      <label for="state">State:</label>
      <input type="text" id="state" name="state" required>

      <label for="country">Country:</label>
      <input type="text" id="country" name="country" value="India">

      <label for="industry">Industry Type:</label>
      <input type="text" id="industry" name="industry" required>

      <label for="core_business">Core Business:</label>
      <input type="text" id="core_business" name="core_business" required>

      <label for="contact">Contact:</label>
      <input type="text" id="contact" name="contact" required>

      <label for="email">Email:</label>
      <input type="email" id="email" name="email">

      <button type="submit">Add Customer</button>
    </form>
  </div>

  <div class="list-container">
    <a href="/" class="view-dashboard-button">Go back to Dashboard</a>
    <h2>Customer List</h2>
    <a href="/onboarded_customers" class="view-onboarded-button">View Onboarded Customers</a>

    <form method="get" action="/customer_management" class="search-filter-form">
      <input type="text" name="search" placeholder="Search by name or company">
      <input type="text" name="industry" placeholder="Filter by Industry">
      <input type="text" name="city" placeholder="Filter by City">
      <button type="submit">Search / Filter</button>
      <a href="/download_excel" class="download-button">Download Excel</a>
    </form>

    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>Customer ID</th>
            <th>Name</th>
            <th>Company</th>
            <th>Address</th>
            <th>City</th>
            <th>State</th>
            <th>Country</th>
            <th>Industry</th>
            <th>Core Business</th>
            <th>Contact</th>
            <th>Email</th>
            <th>Onboarding Date</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for c in customers %}
          <tr>
            <td>{{ c[1] }}</td>
            <td>{{ c[2] }}</td>
            <td>{{ c[3] }}</td>
            <td>{{ c[4] }}</td>
            <td>{{ c[5] }}</td>
            <td>{{ c[6] }}</td>
            <td>{{ c[7] }}</td>
            <td>{{ c[8] }}</td>
            <td>{{ c[9] }}</td>
            <td>{{ c[10] }}</td>
            <td>{{ c[11] }}</td>
            <td>{{ c[12] }}</td>
            <td>
              <a href="{{ url_for('edit_customer', id=c[0]) }}" class="action-link edit-link">Edit</a>
              <a href="{{ url_for('delete_customer', id=c[0]) }}" class="action-link delete-link" onclick="return confirm('Delete this customer?')">Delete</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>

</div>

</body>
</html>