<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        /* Specific styles for the login page to center the form */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f9f9f9; /* Ensure background color is applied */
        }
        .login-container { /* Added a wrapper div */
            background-color: #ffffff;
            padding: 30px; /* Increased padding */
            border-radius: 8px; /* Rounded corners */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Added shadow */
            width: 100%;
            max-width: 400px; /* Max width for the form container */
            box-sizing: border-box;
        }
         .login-container h2 {
             text-align: center;
             margin-bottom: 20px;
             font-size: 24px;
             color: #0b4cf1eb;
         }
         .login-container form {
             display: flex;
             flex-direction: column;
             gap: 15px; /* Space between form elements */
         }
        .login-container label {
            font-weight: 600;
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
        }
         .login-container input[type="text"],
         .login-container input[type="password"] {
             padding: 10px;
             border: 1px solid #ccc;
             border-radius: 4px;
             width: 100%;
             box-sizing: border-box;
         }
        .password-container {
            position: relative;
            width: 100%; /* Ensure container takes full width */
        }
        .password-toggle {
            position: absolute;
            right: 10px;
            top: 50%; /* Center vertically */
            transform: translateY(-50%); /* Adjust for vertical centering */
            cursor: pointer;
            color: #555; /* Icon color */
            font-size: 18px; /* Icon size */
        }

         .login-container button[type="submit"] {
            margin-top: 20px;
            padding: 10px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
         }
         .login-container button[type="submit"]:hover {
             background-color: #0056b3;
         }
         .login-container .reset-button { /* Style for reset button */
             display: block; /* Make button a block element */
             width: 100%; /* Full width */
             text-align: center; /* Center text */
             margin-top: 10px;
             padding: 10px;
             background-color: #6c757d; /* Gray color */
             color: white;
             border: none;
             border-radius: 4px;
             cursor: pointer;
             font-size: 16px;
             text-decoration: none; /* Remove underline for button */
         }
        .login-container .reset-button:hover {
            background-color: #5a6268;
        }

         .error-message { /* Style for error messages */
             color: red;
             text-align: center;
             margin-top: 10px;
             font-size: 14px;
         }
    </style>
</head>
<body>
  <div class="login-container"> {# Added wrapper div #}
    <h2>Login</h2>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class="flash-messages"> {# Use flash-messages class #}
          {% for message in messages %}
            <li class="error">{{ message }}</li> {# Use error class for messages #}
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <form method="POST">
        <div> {# Wrap in div for spacing #}
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" placeholder="Username" required>
        </div>

        <div class="password-container">
            <label for="password">Password:</label>
            <input name="password" type="password" id="password" placeholder="Password" required>
            <span class="password-toggle" onclick="togglePassword()">üëÅÔ∏è</span>
        </div>

        <button type="submit">Login</button>
        <button type="button" onclick="resetPassword()" class="reset-button">Reset Password</button> {# Added class #}
    </form>

    {# Removed inline error message display #}
  </div>

  <script>
    function togglePassword() {
        const passwordField = document.getElementById('password');
        const currentType = passwordField.type;
        passwordField.type = currentType === 'password' ? 'text' : 'password';
    }

    function resetPassword() {
         alert('Password reset functionality is not fully implemented in this example.');
        // The original resetPassword function sent password via email, which is insecure.
        // A proper implementation would involve a backend route to handle password reset requests
        // by sending a secure reset link to the user's email.
        // For now, we'll just show an alert.
    }
  </script>
</body>
</html>
